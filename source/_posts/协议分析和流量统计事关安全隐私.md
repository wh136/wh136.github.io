---
title: 协议分析和流量统计
date: 2016-6-10 13:09:04
tags: [抓包,fiddler&wireshark,协议分析,流量统计]
---
## 协议与数据传输
现如今社会。物联网的发展需要很多复杂的技术，尽管如此，人类需要更多便捷的自动化。
FaceBook CEO Zuckerberg建立了自己的人工智能管家，他说：“每年我都会设定一个小目标，2016 年的是给家里弄个人工智能系统，就像钢铁侠里的贾维斯那样。这个人工智能系统它要能识别我的声音，这样能控制音乐、灯光、温度等等。另外，它还要能识别我亲戚朋友的脸，能自己给他们开门。如果我女儿 Max 房间里有任何异常状况，这个系统要第一时间通知我。除了用于生活，它还要能用于 VR 里的数据可视化工作....”
不仅如此工业控制器系统的发展也是十分迅速。工业革命的道路上，工厂的机器人也要联网。然而安全问题一直是朦胧的状态。
下面介绍一下对工业控制系统安全方向较强的学术团队的工作。
哈尔滨工程大学灯塔实验室研究方向主要包括：人工智能及机器学习算法研究、工业控制信息系统安全研究、知识管理与仿真技术建模、信息隐藏与数字水印等
[灯塔实验室](http://plcscan.org/blog/) 该网站上有一篇文章<<超过8800个工业物联网云中心暴露于公网－DTU数据中心态势感知报告>>
本文将引入协议和数据传输方面的基础原理和工具。
<!-- more -->
## 引入正题 协议分析和流量统计
在数据没有加密的情况下，无论是物联网还是工业控制系统，他们都需要交换数据，服从控制。在公有协议（TCP/IP协议族等）的基础上开发私有协议。通过抓包程序分析网络数据包的协议头和尾，从而了解信息和相关的数据包在产生和传输过程中的行为。
如果数据被加密了，可以进行流量统计。因此要尝试攻击网站，数据库之类的都可以进行此类分析。
### 基础原理和工具
首先从日常开发着手，先介绍fiddler和wireshark两个同类抓包工具。
当启动fiddler，fiddler将会把自己作为一个代理，所有的http请求在达到目标服务器之前都会经过fiddler，同样的，所有的http响应都会在返回客户端之前流经fiddler
默认情况下，fiddler是不会捕获https会话的，所以需要自行设置。
在某些情况下，fiddler抓包能力不如wireshark。wireshark配置比fiddler麻烦一些，如果不配代理，需要安装个Connectify来建立热点，然后再安装wireshark进行抓包，如果配置了代理，直接安装wireshark即可。

版权声明：本文为博主原创文章，转载时注明，谢谢。


